!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([/*!********************************!*\
  !*** ./src/virtualkeyboard.js ***!
  \********************************/
function(e,t,n){"use strict";var r=n(/*! ./extensions/helpers */1);n(/*! ./extensions/ext/array */2),n(/*! ./extensions/ext/object */3),n(/*! ./extensions/ext/regexp */4),n(/*! ./extensions/ext/string */5);var o=n(/*! ./extensions/documentcookie */6),a=n(/*! ./extensions/documentselection */7),i=n(/*! ./extensions/dom */8),s=n(/*! ./extensions/eventmanager */9),c=(n(/*! ./extensions/scriptqueue */10),n(/*! ./ime */11)),l=new function(){var e=this;e.$VERSION$="3.6.1.585";var t,n={layout:null},c="kb_b",l=!0,d={14:"backspace",15:"tab",28:"enter",29:"caps",41:"shift_left",52:"shift_right",53:"del",54:"ctrl_left",55:"alt_left",56:"space",57:"alt_right",58:"ctrl_right"},u={SHIFT:"shift",ALT:"alt",CTRL:"ctrl",CAPS:"caps"},f={"QWERTY Standard":"À1234567890m=ÜQWERTYUIOPÛÝASDFGHJKL;ÞZXCVBNM¼¾¿","QWERTY Canadian":"Þ1234567890m=ÜQWERTYUIOPÛÝASDFGHJKL;ÀZXCVBNM¼¾¿","QWERTY Dutch":"Þ1234567890Û¿ÜQWERTYUIOPÝ;ASDFGHJKL=ÀZXCVBNM¼¾m","QWERTY Estonian":"¿1234567890m=ÜQWERTYUIOPÞÛASDFGHJKL;ÀZXCVBNM¼¾Ý","QWERTY Greek (220)":"À1234567890¿ÛÜQWERTYUIOP=ÝASDFGHJKL;ÞZXCVBNM¼¾m","QWERTY Greek (319)":"À1234567890¿=ÜQWERTYUIOPÛÝASDFGHJKL;ÞZXCVBNM¼¾m","QWERTY Gujarati":"À1234567890m=XQWERTYUIOPÛÝASDFGHJKL;ÜZXCVBNM¼¾¿","QWERTY Italian":"Ü1234567890ÛÝ¿QWERTYUIOP;=ASDFGHJKLÀÞZXCVBNM¼¾m","QWERTY Kannada":"À1234567890m=ZQWERTYUIOPÛÝASDFGHJKL;ÞZXCVBNM¼¾¿","QWERTY Portuguese":"À1234567890ÛÝ¿QWERTYUIOP=;ASDFGHJKLÞÜZXCVBNM¼¾m","QWERTY Scandinavian":"Ü1234567890=Û¿QWERTYUIOPÝ;ASDFGHJKLÀÞZXCVBNM¼¾m","QWERTY Spanish":"Ü1234567890mÛ¿QWERTYUIOPÝ;ASDFGHJKLÀÞZXCVBNM¼¾ß","QWERTY Tamil":"À1234567890m =ZQWERTYUIOPÛÝASDFGHJKL;ÞCVBNM¼¾ ¿","QWERTY Turkish":"À1234567890ßm¼QWERTYUIOPÛÝASDFGHJKL;ÞZXCVBNM¿Ü¾","QWERTY UK":"ß1234567890m=ÞQWERTYUIOPÛÝASDFGHJKL;ÀZXCVBNM¼¾¿","QWERTZ Albanian":"À1234567890m=ÜQWERTZUIOPÛÝASDFGHJKL;ÞYXCVBNM¼¾¿","QWERTZ Bosnian":"À1234567890¿=ÜQWERTZUIOPÛÝASDFGHJKL;ÞYXCVBNM¼¾m","QWERTZ Czech":"À1234567890=¿ÜQWERTZUIOPÛÝASDFGHJKL;ÞYXCVBNM¼¾m","QWERTZ German":"Ü1234567890ÛÝ¿QWERTZUIOP;=ASDFGHJKLÀÞYXCVBNM¼¾m","QWERTZ Hungarian":"0123456789À¿=ÜQWERTZUIOPÛÝASDFGHJKL;ÞYXCVBNM¼¾m","QWERTZ Slovak":"À1234567890¿ßÜQWERTZUIOPÛÝASDFGHJKL;ÞYXCVBNM¼¾m","QWERTZ Swiss":"Ü1234567890ÛÝßQWERTZUIOP;ÞASDFGHJKLÀ¿YXCVBNM¼¾m","AZERTY Belgian":"Þ1234567890ÛmÜAZERTYUIOPÝ;QSDFGHJKLMÀWXCVBN¼¾¿=","AZERTY French":"Þ1234567890Û=ÜAZERTYUIOPÝ;QSDFGHJKLMÀWXCVBN¼¾¿ß",",WERTY Bulgarian":"À1234567890m¾Ü¼WERTYUIOPÛÝASDFGHJKL;ÞZXCVBNMßQ¿","QGJRMV Latvian":"À1234567890mFÜQGJRMVNZWXYH;USILDATECÞÛBÝKPOß¼¾¿","/,.PYF UK-Dvorak":"m1234567890ÛÝÜÀ¼¾PYFGCRL¿=AOEUIDHTNSÞ;QJKXBMWVZ","FG;IOD Turkish F":"À1234567890=mXFG;IODRNHPQWUÛEAÝTKMLYÞJÜVC¿ZSB¾¼",";QBYUR US-Dvorak":"7ÛÝ¿PFMLJ4321Ü;QBYURSO¾65=mKCDTHEAZ8ÞÀXGVWNI¼09","56Q.OR US-Dvorak":"m1234JLMFP¿ÛÝÜ56Q¾ORSUYB;=78ZAEHTDCKÞ90X¼INWVGÀ"},h=0,p=0,g=1,m=2,v=4,y=8,E=v|y,C=v|g,w=m|y,S=m|v,b=m|v|y,M=m|g,L=g|m|v,T=g|y,O=g|m|v|y,k={buttonUp:"kbButton",buttonDown:"kbButtonDown",buttonHover:"kbButtonHover",hoverShift:"hoverShift",hoverAlt:"hoverAlt",modeAlt:"modeAlt",modeAltCaps:"modeAltCaps",modeCaps:"modeCaps",modeNormal:"modeNormal",modeShift:"modeShift",modeShiftAlt:"modeShiftAlt",modeShiftAltCaps:"modeShiftAltCaps",modeShiftCaps:"modeShiftCaps",charNormal:"charNormal",charShift:"charShift",charAlt:"charAlt",charShiftAlt:"charShiftAlt",charCaps:"charCaps",charShiftCaps:"charShiftCaps",hiddenAlt:"hiddenAlt",hiddenCaps:"hiddenCaps",hiddenShift:"hiddenShift",hiddenShiftCaps:"hiddenShiftCaps",deadkey:"deadKey",noanim:"VK_no_animate"},N=null,A=[];A.hash={},A.codes={},A.codeFilter=null,A.options=null;var x={keyboard:null,desk:null,langbox:null,attachedInput:null},R=null;e.addLayoutList=function(){for(var t=0,n=arguments.length;t<n;t++)e.addLayout(arguments[t])},e.addLayout=function(e){var t=e.code.entityDecode().split("-"),n=e.name.entityDecode(),o=B(e.normal);if(!(0,r.isArray)(o)||47!=o.length)throw new Error("VirtualKeyboard requires 'keys' property to be an array with 47 items, "+o.length+" detected. Layout code: "+t+", layout name: "+n);e.code=t[1]||t[0],e.name=n,e.normal=o,e.domain=t[0],A.hash.hasOwnProperty(e.code+" "+e.name)||(A.codes.hasOwnProperty(e.code)||(A.codes[e.code]=e.code),e.toString=function(){return this.code+" "+this.name},A.push(e),A.options=null)},e.switchLayout=function(t){return _(),!!A.options.hasOwnProperty(t)&&(e.IME.hide(),x.langbox.options[A.options[t]].selected=!0,N=A[A.hash[t]],(0,r.isArray)(N)||(N=A[A.hash[t]]=F(N)),(0,r.isArray)(N)||(N=A[A.hash[t]]=F(N)),N.html||(N.html=X(N)),x.desk.innerHTML=N.html,x.keyboard.className=N.domain,e.IME.css=N.domain,h=p,Q(),(0,r.isFunction)(N.activate)&&N.activate(),U(),o.DocumentCookie.set("vk_layout",t),!0)},e.getLayouts=function(){for(var e=[],t=0,n=A.length;t<n;t++)e[e.length]=[A[t].code,A[t].name];return e.sort()},e.setVisibleLayoutCodes=function(){for(var t,n=(0,r.isArray)(arguments[0])?arguments[0]:arguments,o=null,a=0,i=n.length;a<i;a++)t=n[a].toUpperCase(),A.codes.hasOwnProperty(t)&&(o||(o={}),o[t]=t);A.codeFilter=o,A.options=null,e.switchLayout(x.langbox.value)||e.switchLayout(x.langbox.value)},e.getLayoutCodes=function(){var e=[];for(var t in A.codes)A.codes.hasOwnProperty(t)&&e.push(t);return e.heapSort()};var I=function(t,n){var o="",i=!1;switch(t=t.replace(c,"")){case u.CAPS:case u.SHIFT:case"shift_left":case"shift_right":case u.ALT:case"alt_left":case"alt_right":return!0;case"backspace":if((0,r.isFunction)(N.charProcessor)&&a.DocumentSelection.getSelection(x.attachedInput).length)o="\b";else{if(n)return e.IME.hide(!0),!0;a.DocumentSelection.deleteAtCursor(x.attachedInput,!1),e.IME.hide(!0)}break;case"del":if(e.IME.hide(!0),n)return!0;a.DocumentSelection.deleteAtCursor(x.attachedInput,!0);break;case"space":o=" ";break;case"tab":o="\t";break;case"enter":o="\n";break;default:document.getElementById(c+t);o=N[t][h]}if(o){if(!(o=Z(o,a.DocumentSelection.getSelection(x.attachedInput))))return i;try{if(o[1]||o[0].length>1||o.charCodeAt(0)>32767||x.attachedInput.contentDocument||"\t"==o[0])throw new Error;var s=o[0].charCodeAt(0);if((0,r.isFunction)(document.createEvent)){var n=null;try{n=document.createEvent("KeyEvents"),n.initKeyEvent("keypress",!1,!0,x.attachedInput.contentWindow,!1,!1,!1,!1,0,s)}catch(e){n=document.createEvent("KeyboardEvents"),n.initKeyEvent("keypress",!1,!0,x.attachedInput.contentWindow,!1,!1,!1,!1,s,0)}n.VK_bypass=!0,x.attachedInput.dispatchEvent(n)}else n.keyCode=10==s?13:s,i=!0}catch(e){a.DocumentSelection.insertAtCursor(x.attachedInput,o[0]),o[1]&&a.DocumentSelection.setRange(x.attachedInput,-o[1],0,!0)}}return i},D=function(n){if(e.isOpen()){var r=h,o=n.getKeyCode();switch(n.type){case"keydown":switch(o){case 37:if(e.IME.isOpen())return void e.IME.prevPage(n);break;case 39:if(e.IME.isOpen())return void e.IME.nextPage(n);break;case 8:case 9:case 46:var s=x.desk.childNodes[t[o]];l&&!n.getRepeat()&&i.DOM.CSS(s).addClass(k.buttonDown),I(s.id,n)||n.preventDefault();break;case 20:n.getRepeat()||(r^=y);break;case 27:if(e.IME.isOpen())e.IME.hide();else{var c=a.DocumentSelection.getStart(x.attachedInput);a.DocumentSelection.setRange(x.attachedInput,c,c)}return!1;default:if(n.getRepeat()||(r=r|n.shiftKey|n.ctrlKey<<2|n.altKey<<1),t.hasOwnProperty(o)){if(!(n.altKey^n.ctrlKey)){var s=x.desk.childNodes[t[o]];l&&i.DOM.CSS(s).addClass(k.buttonDown),R=s.id}n.altKey&&n.ctrlKey&&(n.preventDefault(),n.srcElement&&(I(x.desk.childNodes[t[o]].id,n),R=""))}else e.IME.hide()}break;case"keyup":switch(o){case 20:break;default:n.getRepeat()||(r=h&(O^(!n.shiftKey|!n.ctrlKey<<2|!n.altKey<<1))),l&&t.hasOwnProperty(o)&&i.DOM.CSS(x.desk.childNodes[t[o]]).removeClass(k.buttonDown)}break;case"keypress":R&&!n.VK_bypass&&(I(R,n)||(n.stopPropagation(),n.preventDefault()),R=null),!h^S&&(n.altKey||n.ctrlKey)&&e.IME.hide(),0!=o||R||n.VK_bypass||n.ctrlKey||n.altKey||n.shiftKey||n.preventDefault()}r!=h&&(V(r),Q())}},P=function(e){var t=i.DOM.getParent(e.srcElement||e.target,"a");if(t&&!(t.parentNode.id.indexOf(c)<0)){switch(t=t.parentNode,t.id.substring(c.length)){case"caps":case"shift_left":case"shift_right":case"alt_left":case"alt_right":case"ctrl_left":case"ctrl_right":return}!i.DOM.CSS(t).hasClass(k.buttonDown)&&l||I(t.id),l&&i.DOM.CSS(t).removeClass(k.buttonDown);var n=h&(y|e.shiftKey|e.altKey<<1|e.ctrlKey<<2);h!=n&&(V(n),Q())}},H=function(e){var t=i.DOM.getParent(e.srcElement||e.target,"a");if(t&&!(t.parentNode.id.indexOf(c)<0)){t=t.parentNode;var n=h,r=t.id.substring(c.length);switch(r){case"caps":n^=y;break;case"shift_left":case"shift_right":if(e.shiftKey)break;n^=g;break;case"alt_left":case"alt_right":case"ctrl_left":case"ctrl_right":n=n^(e.altKey<<1^m)^(e.ctrlKey<<2^v);break;default:l&&i.DOM.CSS(t).addClass(k.buttonDown)}h!=n&&(V(n),Q()),e.preventDefault(),e.stopPropagation()}},W=function(e){var t=i.DOM.getParent(e.srcElement||e.target,"a"),n={mouseover:2,mouseout:3};!t||t.parentNode.id.indexOf(c)<0||(t=t.parentNode,t.id.indexOf("shift")>-1?Y(n[e.type],u.SHIFT):t.id.indexOf("alt")>-1||t.id.indexOf("ctrl")>-1?(Y(n[e.type],u.CTRL),Y(n[e.type],u.ALT)):t.id.indexOf("caps")>-1?G(n[e.type],null,t.id):l&&(G(n[e.type],null,t.id),"mouseout"==e.type.toLowerCase()&&G(0,null,t.id)),e.preventDefault(),e.stopPropagation())},K=function(e){o.DocumentCookie.set("vk_mapping",e.target.value),t=f[e.target.value]};e.attachInput=function(t){if(!t)return x.attachedInput;if((0,r.isString)(t)&&(t=document.getElementById(t)),t==x.attachedInput)return x.attachedInput;if(!e.switchLayout(n.layout)&&!e.switchLayout(x.langbox.value))throw new Error("No layouts available");return e.detachInput(),t&&t.tagName?(l=!i.DOM.CSS(t).hasClass(k.noanim),x.attachedInput=t,U(),t.contentWindow&&(t=t.contentWindow.document.body.parentNode),s.EM.addEventListener(t,"keydown",D),s.EM.addEventListener(t,"keyup",D),s.EM.addEventListener(t,"keypress",D),s.EM.addEventListener(t,"mousedown",e.IME.blurHandler)):x.attachedInput=null,x.attachedInput},e.detachInput=function(){if(!x.attachedInput)return!1;if(U(!0),e.IME.hide(),x.attachedInput){var t=x.attachedInput;t.contentWindow&&(t=t.contentWindow.document.body.parentNode),s.EM.removeEventListener(t,"keydown",D),s.EM.removeEventListener(t,"keypress",D),s.EM.removeEventListener(t,"keyup",D),s.EM.removeEventListener(t,"mousedown",e.IME.blurHandler)}return x.attachedInput=null,!0},e.getAttachedInput=function(e){return x.attachedInput},e.open=e.show=function(t,n,o){if(!(t=e.attachInput(x.attachedInput||t))||!x.keyboard||!document.body)return!1;if(!x.keyboard.parentNode||11==x.keyboard.parentNode.nodeType){if((0,r.isString)(n)&&(n=document.getElementById(n)),!n.appendChild)return!1;n.appendChild(x.keyboard),!(0,r.isUndefined)(o)&&t!=o&&o.appendChild&&(s.EM.addEventListener(o,"keydown",D),s.EM.addEventListener(o,"keyup",D),s.EM.addEventListener(o,"keypress",D))}return!0},e.close=e.hide=function(){return!(!x.keyboard||!e.isOpen())&&(e.detachInput(),x.keyboard.parentNode.removeChild(x.keyboard),!0)},e.toggle=function(t,n,r){e.isOpen()?e.close():e.show(t,n,r)},e.isOpen=function(){return!!x.keyboard.parentNode&&1==x.keyboard.parentNode.nodeType};var U=function(e){if(x.attachedInput){var t=e?"":N.rtl?"rtl":"ltr";x.attachedInput.contentWindow?x.attachedInput.contentWindow.document.body.dir=t:x.attachedInput.dir=t}},_=function(){if(null==A.options){var e,t,n,r=A.heapSort(),o={};A.options={},x.langbox.innerHTML="";for(var a=0,i=r.length,s=0;a<i;a++)e=A[a],n=e.code+" "+e.name,A.hash[n]=a,A.codeFilter&&!A.codeFilter.hasOwnProperty(e.code)||(o.label!=e.code&&(o=document.createElement("optgroup"),o.label=e.code,x.langbox.appendChild(o)),t=document.createElement("option"),t.value=n,t.appendChild(document.createTextNode(e.name)),t.label=e.name,o.appendChild(t),A.options[n]=s++)}},B=function(e){return(0,r.isString)(e)?e.match(/\x01.+?\x01|[\ud800-\udbff][\udc00-\udfff]|./g).map(function(e){return e.replace(/[\x01\x02]/g,"")}):e.map(function(e){return(0,r.isArray)(e)?e.map(function(e){String.fromCharCodeExt(e)}).join(""):String.fromCharCodeExt(e).replace(/[\x01\x02]/g,"")})},F=function(e){var t,n,o,a,i,s,c,l,d=e.normal,u=e.shift||{},f=e.alt||{},h=e.shift_alt||{},p=e.caps||{},m=e.shift_caps||{},v=e.dk,E=e.cbk,C=null,w=-1,b=[];b.name=e.name,b.code=e.code,b.toString=e.toString;for(var M=0,O=d.length;M<O;M++){var k=d[M],N=null,A=null,x=null,R=[k];u.hasOwnProperty(M)&&(t=B(u[M]),i=M),i>-1&&t[M-i]?(x=t[M-i],R[g]=x):k&&k!=(k=k.toUpperCase())&&(R[g]=k,x=k),f.hasOwnProperty(M)&&(n=B(f[M]),s=M),s>-1&&n[M-s]&&(N=n[M-s],R[S]=N),h.hasOwnProperty(M)&&(o=B(h[M]),c=M),c>-1&&o[M-c]?R[L]=o[M-c]:N&&N!=(N=N.toUpperCase())&&(R[L]=N),p.hasOwnProperty(M)&&(a=B(p[M]),l=M),l>-1&&a[M-l]&&(A=a[M-l]),A?R[y]=A:x&&x.toUpperCase()!=x.toLowerCase()?R[y]=x:k&&(R[y]=k.toUpperCase()),m.hasOwnProperty(M)&&(C=B(m[M]),w=M),w>-1&&C[M-w]?R[T]=C[M-w]:x?R[T]=x.toLowerCase():k&&(R[T]=k),b[M]=R}if(v){b.dk={};for(var M in v)if(v.hasOwnProperty(M)){var I=M;parseInt(M)&&M>9&&(I=String.fromCharCode(M)),b.dk[I]=B(v[M]).join("").replace(I,I+I)}}return b.rtl=!!b.join("").match(/[\u05b0-\u06ff]/),b.domain=e.domain,(0,r.isFunction)(E)?b.charProcessor=E:E&&(b.activate=E.activate,b.charProcessor=E.charProcessor),b},Q=function(){var e=[];e[p]=k.modeNormal,e[g]=k.modeShift,e[S]=k.modeAlt,e[L]=k.modeShiftAlt,e[y]=k.modeCaps,e[T]=k.modeShiftCaps,e[m]=k.modeNormal,e[v]=k.modeNormal,e[M]=k.modeShift,e[C]=k.modeShift,e[w]=k.modeCaps,e[E]=k.modeCaps,e[b]=k.modeShiftAltCaps,e[O]=k.modeShiftAltCaps,i.DOM.CSS(x.desk).removeClass(e).addClass(e[h])},V=function(e){var t=h^e;t&g&&Y(!!(e&g),u.SHIFT),t&m&&Y(!!(e&m),u.ALT),t&v&&Y(!!(e&v),u.CTRL),t&y&&G(!!(e&y),u.CAPS),h=e},Y=function(e,t){var n=document.getElementById(c+t+"_left"),r=document.getElementById(c+t+"_right");switch(0+e){case 0:n.className=i.DOM.CSS(r).removeClass(k.buttonDown).getClass();break;case 1:i.DOM.CSS(x.desk).removeClass([k.hoverShift,k.hoverAlt]),n.className=i.DOM.CSS(r).addClass(k.buttonDown).getClass();break;case 2:u.SHIFT==t&&h&g^g?i.DOM.CSS(x.desk).addClass(k.hoverShift):u.ALT==t&&h^S&&i.DOM.CSS(x.desk).addClass(k.hoverAlt),n.className=i.DOM.CSS(r).addClass(k.buttonHover).getClass();break;case 3:u.SHIFT==t?i.DOM.CSS(x.desk).removeClass(k.hoverShift):u.ALT==t&&i.DOM.CSS(x.desk).removeClass(k.hoverAlt),n.className=i.DOM.CSS(r).removeClass(k.buttonHover).getClass()}},G=function(e,t,n){var r=document.getElementById(t?c+t:n);if(r)switch(0+e){case 0:i.DOM.CSS(r).removeClass(k.buttonDown);break;case 1:i.DOM.CSS(r).addClass(k.buttonDown);break;case 2:i.DOM.CSS(r).addClass(k.buttonHover);break;case 3:i.DOM.CSS(r).removeClass(k.buttonHover)}},Z=function(e,t){var n=[e,0];if((0,r.isFunction)(N.charProcessor))n=N.charProcessor(e,t);else if("\b"==e)n=["",0];else if(N.dk&&t.length<=1)if(N.dk.hasOwnProperty(t)){n[1]=0;var o=N.dk[t],a=o.indexOf(e)+1;n[0]=a?o.charAt(a):e}else N.dk.hasOwnProperty(e)&&(n[1]=1,n[0]=e);return n},X=function(e){var t=document.createElement("span");document.body.appendChild(t),t.style.position="absolute",t.style.left="-1000px";for(var n,r,o=0,a=e.length,i=[];o<a;o++)n=e[o],i.push(["<div id='",c,o,"' class='",k.buttonUp,"'><a>",J(e,n,p,k.charNormal,t),J(e,n,g,k.charShift,t),J(e,n,S,k.charAlt,t),J(e,n,L,k.charShiftAlt,t),J(e,n,y,k.charCaps,t),J(e,n,T,k.charShiftCaps,t),"</a></div>"].join(""));for(var o in d)d.hasOwnProperty(o)&&(n=d[o],r=n.replace(/_.+/,""),i.splice(o,0,["<div id='",c,n,"' class='",k.buttonUp,"'><a title='",r,"'","><span class='title'>",r,"</span>","</a></div>"].join("")));return document.body.removeChild(t),i.join("").replace(/(<\w+)/g,"$1 unselectable='on' ")},J=function(e,t,n,r,o){var a=[],i=e.dk&&e.dk.hasOwnProperty(t[n]),s=t[n]||"";return i&&(r+=" "+k.deadkey),(n==T&&t[y]&&s.toLowerCase()==t[y].toLowerCase()||n==y&&t[T]&&s.toLowerCase()==t[T].toLowerCase())&&(r+=" "+k.hiddenCaps),(n==g&&t[p]&&s.toLowerCase()==t[p].toLowerCase()||n==p&&t[g]&&s.toLowerCase()==t[g].toLowerCase())&&(r+=" "+k.hiddenShift),(n==g&&t[T]&&s.toLowerCase()==t[T].toLowerCase()||n==T&&t[g]&&s.toLowerCase()==t[g].toLowerCase())&&(r+=" "+k.hiddenShiftCaps),(n==y&&t[p]&&s.toLowerCase()==t[p].toLowerCase()||n==p&&t[y]&&s.toLowerCase()==t[y].toLowerCase())&&(r+=" "+k.hiddenCaps),(n==L&&t[S]&&s.toLowerCase()==t[S].toLowerCase()||n==S&&t[g]&&s.toLowerCase()==t[g].toLowerCase())&&(r+=" "+k.hiddenAlt),a.push("<span"),r&&a.push(' class="'+r+'"'),a.push(" > "+s+" </span>"),a.join("")};!function(){x.keyboard=document.createElement("div"),x.keyboard.unselectable="on",x.keyboard.id="virtualKeyboard",x.keyboard.innerHTML=('<div id="kbDesk"><!-- --></div><select id="kb_langselector"></select><select id="kb_mappingselector"></select><div id="copyrights" nofocus="true"><a href="http://debugger.ru/projects/virtualkeyboard" target="_blank" title="&copy;2006-2009 Debugger.ru">VirtualKeyboard '+e.$VERSION$+"</a></div>").replace(/(<\w+)/g,"$1 unselectable='on' "),x.desk=x.keyboard.firstChild;var a=x.keyboard.childNodes.item(1);s.EM.addEventListener(a,"change",function(t){e.switchLayout(this.value)}),x.langbox=a;var a=a.nextSibling,i="";t=o.DocumentCookie.get("vk_mapping"),f.hasOwnProperty(t)||(t="QWERTY Standard");for(var c in f){var l=f[c].split("").map(function(e){return e.charCodeAt(0)});l.splice(14,0,8,9),l.splice(28,0,13,20),l.splice(41,0,16),l.splice(52,0,16,46,17,18,32,18,17);var d=l;l=[];for(var u=0,h=d.length;u<h;u++)l[d[u]]=u;f[c]=l,d=c.split(" ",2),0!=i.indexOf(i=d[0])&&(a.appendChild(document.createElement("optgroup")),a.lastChild.label=i),l=document.createElement("option"),a.lastChild.appendChild(l),l.value=c,l.innerHTML=d[1],l.selected=c==t}t=f[t],s.EM.addEventListener(a,"change",K),s.EM.addEventListener(x.desk,"mousedown",H),s.EM.addEventListener(x.desk,"mouseup",P),s.EM.addEventListener(x.desk,"mouseover",W),s.EM.addEventListener(x.desk,"mouseout",W),s.EM.addEventListener(x.desk,"click",s.EM.preventDefaultAction),x.keyboard.onmousedown=function(e){if(!e||!e.target.tagName||"select"!=e.target.tagName.toLowerCase())return!1};var p=(0,r.getScriptQuery)("virtualkeyboard.js");n.layout=o.DocumentCookie.get("vk_layout")||p.vk_layout||null}()};l.Langs={},l.IME=c.IME,function(e){e.fn.virtkeys=function(){function t(t){l.open(t instanceof e?t.get(0):t,this.get(0))}function n(){l.close()}function r(t){l.toggle(t instanceof e?t.get(0):t,this.get(0))}function o(){return l.getLayoutCodes()}function a(e){return l.switchLayout(e)}function i(e){for(var t=0,n=e.length;t<n;t++)l.addLayout(e[t])}function s(){return e.fn.virtkeys._layouts}function c(t){if(void 0===t&&void 0===(t=e.fn.virtkeys._ime))throw"Object containing IME cannot be found.";l.IME=t}function d(t){if(void 0===t&&void 0===(t=e.fn.virtkeys._langs))throw"Object containing IME languages cannot be found.";l.Langs=t}return this.VirtualKeyboard=l,this.open=t,this.close=n,this.toggle=r,this.getLayoutCodes=o,this.switchLayout=a,this.addLayouts=i,this.getLoadedLayouts=s,this.enableIME=c,this.addIMELanguages=d,this},e.fn.virtkeys._layouts={}}(jQuery)},/*!***********************************!*\
  !*** ./src/extensions/helpers.js ***!
  \***********************************/
function(e,t){"use strict";function n(e){return"undefined"==typeof e}function r(e){return"function"==typeof e}function o(e){return"string"==typeof e}function a(e){return"number"==typeof e}function i(e){return(a(e)||o(e))&&!isNaN(parseInt(e))&&isFinite(parseInt(e))}function s(e){return e instanceof Array}function c(e){return e instanceof RegExp}function l(e){return"boolean"==typeof e}function d(e){return i(e)||o(e)||l(e)}function u(e){if(l(e))return!1;if(c(e)&&new RegExp("").toString()==e.toString())return!0;if(o(e)||a(e))return!e;if(Boolean(e)&&0!=e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function f(){throw"Commented out because of UglifyJsPlugin and RemoveCommentsLoader"}function h(e){var t=document.getElementsByTagName("html")[0].innerHTML,n=new RegExp("<script[^>]+?srcs*=s*[\"']?([^>]+?/)"+e+"[^>]*>.?</script>","i"),r=t.match(n);return r?r[1].match(/^((https?|file)\:\/{2,}|\w:[\\])/)?r[1]:0==r[1].indexOf("/")?r[1]:(b=document.getElementsByTagName("base"),b[0]&&b[0].href?b[0].href+r[1]:(document.location.href.match(/(.*[\/\\])/)[0]+r[1]).replace(/^\/+/,"")):null}function p(e){var t=document.getElementsByTagName("html")[0].innerHTML,n=new RegExp("<script[^>]+?srcs*[^>]+?/"+e+"([^#\"']*).+?</script>","i"),r=t.match(n);return r?g(r[1].replace(/^[^?]*\?([^#]+)/,"$1")):{}}function g(e){if("string"!=typeof e||e.length<2)return{};e=e.split(/&amp;|&/g);for(var t,n,r=0,o=e.length,a={};r<o;r++)t=e[r].split("="),t[0]=t[0].replace(/[{}\[\]]*$/,""),n=a[t[0]],t[1]=unescape(t[1]?t[1].replace("+"," "):""),n?"array"==typeof n?a[t[0]][a[t[0]].length]=t[1]:a[t[0]]=[a[t[0]],t[1]]:a[t[0]]=t[1];return a}function m(e,t,r,i){if(o(e)&&(e=document.getElementById(e)),!e||!DOM.hasTagName(e,["table","tbody,","thead","tfoot"]))return null;if(!(u(r)||o(r)&&(e=e.getElementsByTagName(r))))return null;if(!u(i)&&(!a(i)||i<0||!(e=e[i])))return null;if(n(e.rows))return null;for(var c=[],l=document.createElement("span"),d=null,f=0,h=e.rows.length;f<h;f++){var p=[];if(s(t))for(var g=0,m=t.length;g<m;g++)d=e.rows[f].cells[t[g]],d?(l.innerHTML=d.innerText?d.innerText:d.innerHTML.replace(/<script\s+(.|\r?\n)*?<\/script>|<[^>]*>/g,""),l.normalize(),p[p.length]=l.firstChild?l.firstChild.nodeValue.trim("  "):""):p[p.length]="";else for(var g=0,v=e.rows[f].cells.length;g<v;g++)cd=e.rows[f].cells[g],l.innerHTML=d.innerText?d.innerText:d.innerHTML.replace(/<script\s+(.|\r?\n)*?<\/script>|<[^>]*>/g,""),l.normalize(),p[p.length]=l.firstChild?l.firstChild.nodeValue.trim("  "):"";u(p)||(c[c.length]=p)}return c}function v(e,t,n){return setInterval(function(){n instanceof Array?e.apply(this,n):e.call(this,n)},t)}function y(e,t,n){return setTimeout(function(){n instanceof Array?e.apply(this,n):e.call(this,n)},t)}function E(e){if(d(e)||r(e)||null==e)return e;try{var t=new e.constructor}catch(e){return null}if(s(t))for(var n=0,o=e.length;n<o;n++)t[n]=E(e[n]);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=E(e[n]));return t}function C(){for(var e,t,n={},o=0,a=arguments.length;o<a;o++){t=arguments[o];for(var i in t)t.hasOwnProperty(i)&&(e=t[i],null==e?n.hasOwnProperty(i)||(n[i]=e):s(e)?s(n[i])?n[i]=n[i].concat(e).unique():n[i]=e.slice(0):d(e)||r(e)?n[i]=e:n.hasOwnProperty(i)?n[i]=C(n[i],e):n[i]=E(e))}return n}function w(e){if(!S(e)){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,t.appendChild(n)}}function S(e){var t=document.getElementsByTagName("html")[0].innerHTML,n=new RegExp("<link[^>]+?srcs*=s*[\"']?([^>]+?/)"+sn+"[^>]*>","i");return n.test(t)}Object.defineProperty(t,"__esModule",{value:!0}),document.createElementExt=function(e,t){var n,r,o,a=document.createElement(e);if(!a)return null;for(r in t)if(t.hasOwnProperty(r))switch(r){case"class":a.setAttribute("className",t[r]),a.setAttribute("class",t[r]);break;case"style":for(o in t[r])t[r].hasOwnProperty(o)&&(a.style[o]=t[r][o]);break;case"event":for(o in t[r])t[r].hasOwnProperty(o)&&a.attachEvent(o,t[r][o]);break;case"child":for(n=t[r].length,o=0;o<n;o++)a.appendChild(t[r][o]);break;case"param":for(o in t[r])if(t[r].hasOwnProperty(o))try{a[o]=t[r][o]}catch(e){}}return a},t.isUndefined=n,t.isFunction=r,t.isString=o,t.isNumber=a,t.isNumeric=i,t.isArray=s,t.isRegExp=c,t.isBoolean=l,t.isScalar=d,t.isEmpty=u,t.gluePath=f,t.findPath=h,t.getScriptQuery=p,t.parseQuery=g,t.table2array=m,t.playInterval=v,t.playTimeout=y,t.cloneObject=E,t.mergeObject=C,t.loadStyleSheet=w,t.hasStyleSheet=S},/*!*************************************!*\
  !*** ./src/extensions/ext/array.js ***!
  \*************************************/
function(e,t,n){"use strict";var r=n(/*! ./../helpers */1);(0,r.isUndefined)(Array.prototype.copy)&&(Array.prototype.copy=function(){for(var e=new Array,t=0,n=this.length;t<n;t++)e[t]=this[t];return e}),(0,r.isUndefined)(Array.prototype.unique)&&(Array.prototype.unique=function(){for(var e=[],t=0,n=this.length;t<n;t++)e.indexOf(this[t])<0&&(e[e.length]=this[t]);return e}),(0,r.isUndefined)(Array.prototype.flatten)&&(Array.prototype.flatten=function(e,t){if(this.length<1)return[];isNumeric(e)&&(e=[e]);var n=!1;if(isArray(e)){n={};for(var o=0,a=e.length;o<a;o++)n[e[o]]=!0}for(var i=[],o=0,s=this.length;o<s;o++)if(!(0,r.isUndefined)(this[o]))if(isArray(this[o]))for(var c=0,a=this[o].length;c<a;c++)(!1===n||n.hasOwnProperty(c))&&(i[i.length]=this[o][c]);else!1===n&&(i[i.length]=this[o]);return i}),(0,r.isUndefined)(Array.prototype.binSearch)&&(Array.prototype.binSearch=function(e,t){var n=0,r=this.length,o=(Math.max(r-1,0),Math.ceil(r/2));if(null!=t)for(;(!this[o]||e!=this[o][t])&&r>=n;)this[o]&&e>this[o][t]?n=o+1:r=o-1,o=Math.max(0,Math.ceil((r+n)/2));else for(;e!=this[o]&&r>=n;)e>this[o]?n=o+1:r=o-1,o=Math.max(0,Math.ceil((r+n)/2));return o}),Array.prototype.heapSort=function(){for(var e,t=function(e,t,n){for(var r,o=e[t];;){if(r=(t<<1)+1,r>n)break;if(r<n&&e[r+1]>e[r]&&r++,o>=e[r])break;e[t]=e[r],t=r}e[t]=o},n=this.length-1,r=n>>1;r>=0;)t(this,r--,n);for(r=n;r>0;)e=this[0],this[0]=this[r],this[r]=e,t(this,0,--r);return this},(0,r.isUndefined)(Array.range)&&(Array.range=function(e,t,n){if(!isNumber(e))return null;isNumber(n)||(n=1),isNumber(t)||(t=0);var r=[],o=Math.min(t,e),a=Math.max(t,e),i=Math.abs(n),s=-1;do s++,r[s]=o,o+=i;while(o<=a);return n>0?r:r.reverse()})},/*!**************************************!*\
  !*** ./src/extensions/ext/object.js ***!
  \**************************************/
function(e,t){"use strict";"undefined"==typeof Object.hasOwnProperty&&(Object.prototype.hasOwnProperty=function(e){return!("undefined"==typeof this[e]||this.constructor&&this.constructor.prototype[e]&&this[e]===this.constructor.prototype[e])})},/*!**************************************!*\
  !*** ./src/extensions/ext/regexp.js ***!
  \**************************************/
function(e,t){"use strict";RegExp.escape=function e(t){if(!e.sRE){var n=["/",".","*","+","?","|","(",")","[","]","{","}","$","^","\\"];e.sRE=new RegExp("(\\"+n.join("|\\")+")","g")}return isString(t)?t.replace(e.sRE,"\\$1"):isArray(t)?t.map(RegExp.escape).join("|"):""}},/*!**************************************!*\
  !*** ./src/extensions/ext/string.js ***!
  \**************************************/
function(e,t){"use strict";String.fromCharCodeExt=function(e){return e<65536?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>10|55296)+String.fromCharCode(1023&e|56320))},String.prototype.entityDecode=function e(){e.span||(e.span=document.createElement("span"));var t=e.span;return t.innerHTML=this,t.firstChild?t.firstChild.nodeValue:""},String.prototype.ltrim=function(e){return isString(e)&&(e=e.split("")),isArray(e)||isUndefined(e)?(e=isEmpty(e)?"\\s":RegExp.escape(e),e=new RegExp("^(?:"+e+")+","g"),this.replace(e,"")):this},String.prototype.rtrim=function(e){return isString(e)&&(e=e.split("")),isArray(e)||isUndefined(e)?(e=isEmpty(e)?"\\s":RegExp.escape(e),e=new RegExp("(?:"+e+")+$","g"),this.replace(e,"")):this},String.prototype.dup=function(){var e=this.valueOf();return[e,e].join("")},String.prototype.repeat=function(e){return isNaN(e=parseInt(e))||e<0?"":Array(e+1).join(this.valueOf())},String.prototype.padding=function(e,t){var n=this.valueOf();if(e=parseInt(e),!e)return n;isUndefined(t)&&(t=" ");var r=String(t).charAt(0).repeat(Math.abs(e)-this.length);return e<0?r+n:n+r},String.prototype.padLeft=function(e,t){return this.padding(-Math.abs(e),t)},String.prototype.padRight=function(e,t){return this.padding(Math.abs(e),t)},String.prototype.sprintf=function(){var e=isArray(arguments[0])?arguments[0]:arguments,t=0,n=this.replace(/%%/g,"\0\0"),r=/%((?:\d+\$)?)((?:[-0+# ])?)((?:\d+|\*(?:\d+\$)?)?)((?:.(?:\d+|\*(?:\d+\$)?))?)([bcdeEfosuxX])/g;return n=n.replace(r,function(){var n,r=arguments,o=!1;isUndefined(r[3])||0!=r[3].indexOf("*")||(r[3]=parseInt(r[3].replace(/\D/g,"")),isNaN(r[3])?(r[3]=e[t],t++):r[3]=e[r[3]]),""!=r[4]&&(1==r[4].indexOf("*")?(r[4]=parseInt(r[4].replace(/\D/g,"")),isNaN(r[4])?(r[4]=e[t],t++):r[4]=e[r[4]]):r[4]=r[4].replace(/\D/,""),r[4]=Math.abs(r[4])),r[1]=parseInt(r[1]);var n;switch(isNumeric(r[1])?n=e[r[1]]:(n=e[t],t++),r[5]){case"b":n<0&&(n=0x10000000000000000+parseInt(n)),n=Number(n).bin(r[4]),r[4]&&(n=n.substr(0,r[4])),"#"==r[2]&&(n="0b"+n);break;case"c":n=String.fromCharCode(n);break;case"u":n=Math.abs(n);case"d":n=Math.round(n),n<0?n="-"+Math.abs(n).dec(r[4]):(n=Number(n).dec(r[4]),o=" "==r[2]||"+"==r[2]);break;case"e":case"E":n>0&&(o=" "==r[2]||"+"==r[2]),n=Number(n).toExponential(r[4]?r[4]:6),"E"==r[5]&&(n=n.toUpperCase());break;case"f":n>0&&(o=" "==r[2]||"+"==r[2]),n=Number(n).toFixed(isNumeric(r[4])?r[4]:6);break;case"o":n<0&&(n=0x10000000000000000+parseInt(n)),n=Number(n).toString(8),r[4]&&(n=n.substr(0,r[4])),"#"==r[2]&&0!=n&&(n="0"+n);break;case"s":n=String(n),r[4]&&(n=n.substr(0,r[4]));break;case"x":case"X":n<0&&(n=0x10000000000000000+parseInt(n)),n=Number(n).hex(-r[4]),r[4]&&(n=n.substr(0,r[4])),"#"==r[2]&&(n="0x"+n),"X"==r[5]&&(n=n.toUpperCase())}return o&&(n=r[2]+n),r[3]&&(n="-"==r[2]||r[3]<0?n.padRight(r[3]):n.padLeft(r[3],"0"==r[2]?0:" ")),n}),n.replace(/\0\0/g,"%")}},/*!******************************************!*\
  !*** ./src/extensions/documentcookie.js ***!
  \******************************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new function(){var e=this,t={};e.get=function(e){return t[e]},e.set=function(e,n,r,o,a,i){return!!e&&(n=escape(n),document.cookie=e+"="+n+(o?";path="+o:"")+(r?";NoExp="+(r instanceof Date?r.toGMTString():new Date((new Date).getTime()+1e3*r).toGMTString()):"")+(a?";domain="+a||document.location.domain:"")+(i?";secure":""),t[e]=n,!0)},e.isSet=function(e){return!!t[e]},e.del=function(e,n,r){return!!Cookie.isSet(e)&&(document.cookie=e+"="+(n?"; path="+n:"")+(r?"; domain="+r:"")+(secure?"; secure":"")+"; NoExp=Thu, 01-Jan-70 00:00:01 GMT",delete t[e],!0)},e.delAll=function(){for(var n in t)t.hasOwnProperty(n)&&e.del(n)},function(){for(var e=document.cookie.split(/\s*;\s*/),n=0,r=e.length;n<r;n++){var o=e[n].split(/\s*=\s*/);t[o[0]]=unescape(o[1])}}()};t.DocumentCookie=n},/*!*********************************************!*\
  !*** ./src/extensions/documentselection.js ***!
  \*********************************************/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSelection=void 0;var r=n(/*! ./dom */8),o=new function(){var e=this,t={prevCalcNode:"__prevCalcNode"},n=function(n,r){var o=r[0],a="";if(!o||!o.tagName)return!1;switch(r[0].tagName.toLowerCase()){case"input":if(o.type&&"text"!=o.type&&"password"!=o.type)return!1;case"textarea":a="input";break;case"iframe":a="frame",r[0]=o.contentWindow;break;default:return!1}if("function"==typeof e.module[a]&&(e.module[a]=new e.module[a](t)),!e.module[a]||!e.module[a][n])throw new Error("Method '"+n+"' is not implemented for DocumentSelection '"+a+"' module.");return e.module[a][n].apply(e,r)},r=function(t,n,r){if(window.getSelection&&"iframe"!=t.tagName.toLowerCase()){var o=e.getSelectionOffset(t);t.contentWindow&&(t=t.contentWindow.document.body),n>o.y?t.scrollTop=o.y:n+t.clientHeight>o.y?t.scrollTop=n:t.scrollTop=o.y-t.clientHeight/2,r>o.x?t.scrollLeft=o.x:r+t.clientWidth>o.x?t.scrollLeft=r:t.scrollLeft=o.x-t.clientWidth/2}};e.setRange=function(t,o,a,i){var s=t.scrollTop,c=t.scrollLeft;if(i){var l=e.getStart(t);a=l+a,o=l+o}o<0&&(o=0),a<o&&(a=o),n("setRange",[t,o,a]),r(t,s,c)},e.getSelection=function(e){return n("getSelection",[e])},e.getStart=function(e){return n("getPos",[e])[0]},e.getEnd=function(e){return n("getPos",[e])[0]},e.getCursorPosition=function(t){return e.getStart(t)},e.insertAtCursor=function(e,t,o){var a=e.scrollTop,i=e.scrollLeft;o||n("del",[e]);var s=n("ins",[e,t]);return r(e,a,i),s},e.wrapSelection=function(t,n,r){var o=e.getCursorPosition(t),a=e.getEnd(t);o==a?e.insertAtCursor(t,n+r):(e.insertAtCursor(t,n,!0),e.setRange(t,a+n.length,a+n.length),e.insertAtCursor(t,r,!0))},e.deleteAtCursor=function(t,n){return e.getSelection(t)||(n?e.setRange(t,0,1,!0):e.setRange(t,-1,0,!0)),e.deleteSelection(t)},e.deleteSelection=function(e){var t=e.scrollLeft,o=e.scrollTop,a=n("del",[e]);return r(e,o,t),a},e.getSelectionOffset=function(e){return n("getSelectionOffset",[e],!0)},e.getContext=function(e){return n("getContext",[e])}};o.module={input:function(e){var t=this,n=null;t.getContext=function(e){var n=t.getPos(e),r=e.value,o=r.match(new RegExp("(?:.|[\\r\\n]){0,"+(n[0]-1)+"}(?:^|\\s)","m"))||"",a=r.match(new RegExp("(?:.|[\\r\\n]){"+n[0]+"}","m"))[0],i=r.replace(a,""),s=i.substring(0,n[1]-n[0]),c=i.replace(s,"").match(/(?:\S|$)*/);return[a.replace(o,""),s,c]},t.getPos=function(e){var t=[0,0];if("function"==typeof window.getSelection)try{t=[e.selectionStart,e.selectionEnd]}catch(e){}else if(e.setActive(),t=[Math.abs(e.document.selection.createRange().moveStart("character",-1e8)),Math.abs(e.document.selection.createRange().moveEnd("character",-1e8))],"input"!=e.tagName.toLowerCase()){var n=e.document.body.createTextRange();n.moveToElementText(e);var r=Math.abs(n.moveStart("character",-1e8));t[0]-=r,t[1]-=r}return t},t.del=function(e){var n="",r=t.getPos(e),o=r[0],a=r[1];if(o!=a){var i=document.selection&&!window.opera?e.value.replace(/\r/g,""):e.value;n=i.substring(o,a),e.value=i.substring(0,o)+i.substring(a,i.length),t.setRange(e,o,o)}return n},t.ins=function(e,n){var r=t.getPos(e)[0],o=document.selection&&!window.opera?e.value.replace(/\r/g,""):e.value;return e.value=o.substring(0,r)+n+o.substring(r,o.length),r+=n.length,t.setRange(e,r,r),r},t.getSelection=function(e){var n=t.getPos(e),r=n[0],o=n[1];o<r&&(o=r);var a=document.selection&&!window.opera?e.value.replace(/\r/g,""):e.value;return a.substring(r,o)},t.setRange=function(e,t,n){if("function"==typeof e.setSelectionRange)try{e.setSelectionRange(t,n)}catch(e){}else{var r;try{r=e.createTextRange()}catch(t){try{r=e.document.body.createTextRange(),r.moveToElementText(e)}catch(e){return!1}}e.setActive(),r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}},t.getSelectionOffset=function(t){var o,a=r.DOM.getWindow(t).document;if("function"==typeof t.setSelectionRange){if(n||(n=a.createElement("td"),a.body.appendChild(n)),n[e.prevCalcNode]!=t){n[e.prevCalcNode]=t;var i=a.defaultView.getComputedStyle(t,null);for(var s in i)try{i[s]&&(n.style[s]=i[s])}catch(e){}n.style.overflow="auto",n.style.position="absolute",n.style.visibility="hidden",n.style.zIndex="-10",n.style.left="-10000px",n.style.top="-10000px",n.style.backgroundColor="yellow"}var o=a.createRange(),c=t.value||" ";"input"==t.tagName.toLowerCase()?(n.style.width="auto",n.style.whiteSpace="nowrap"):n.style.whiteSpace="off"==t.getAttribute("wrap")?"pre":"",c=c.replace(/\x20\x20/g,"  ").replace(/</g,"&lt;").replace(/>/g,"&gt"),n.innerHTML=(c.substring(0,t.selectionStart-1)+"<span>"+c.substring(t.selectionStart-1,t.selectionStart)+"</span>"+c.substring(t.selectionStart)).replace(/\n/g,"<br />").replace(/\t/g,'<em style="white-space:pre">\t</em>');var l=n.getElementsByTagName("span")[0];l.style.border="1px solid red",o.offsetLeft=l.offsetLeft,o.offsetTop=l.offsetTop,o.offsetHeight=l.offsetHeight,"\n"==c.charAt(t.selectionStart-1)&&(o.offsetTop+=2*o.offsetHeight),l=null}else if(a.selection&&a.selection.createRange&&(o=a.selection.createRange(),o.offsetHeight=Math.round(o.boundingHeight/(o.text.replace(/[^\n]/g,"").length+1)),t.tagName&&"textarea"==t.tagName.toLowerCase())){var d=r.DOM.getOffset(t);o={offsetTop:o.offsetTop-d.y+r.DOM.getBodyScrollTop(t),offsetLeft:o.offsetLeft-d.x+r.DOM.getBodyScrollLeft(t),offsetHeight:o.offsetHeight}}return o?{x:o.offsetLeft,y:o.offsetTop,h:o.offsetHeight}:{x:0,y:0,h:0}}},frame:function(){var e=this;e.getContext=function(t){if("function"==typeof t.getSelection){var n=e.getPos(t),r=t.document.body.innerText||t.document.body.innerHTML.replace(/<\/?[a-z:]+[^>]*>/gi,"").replace("&nbsp;"," "),o=r.match(new RegExp("(?:.|[\\r\\n]){0,"+(n[0]-1)+"}(?:^|\\s)","m"))||"",a=r.match(new RegExp("(?:.|[\\r\\n]){"+n[0]+"}","m"))||"",i=r.replace(a,""),s=i.substring(0,n[1]-n[0]),c=i.replace(s,"").match(/(?:\S|$)*/);return[a.toString().replace(o,""),s,c]}var l=t.document.selection.createRange(),d=t.document.selection.createRange(),u=t.document.selection.createRange();return l.moveStart("word",-1),u.moveEnd("word",1),[l.text.replace(new RegExp(RegExp.escape(d.text)+"$"),""),d.text,u.text.replace(new RegExp("^"+RegExp.escape(d.text)),"")]},e.getPos=function(e){var t=[0,0];if("function"==typeof e.getSelection){for(var n,r=e.getSelection(),o=r.anchorNode,a=r.anchorOffset,i=r.focusNode,s=r.focusOffset,c=!1,l=!1,d=0,u=0,f=e.document.createTreeWalker(e.document.body,NodeFilter.SHOW_TEXT,null,!1);o&&3!=o.nodeType;)o=o.childNodes[a],a=0;for(;i&&3!=i.nodeType;)i=i.childNodes[s],s=0;for(;(n=f.nextNode())&&(n==i&&(u+=s,l=!0),n==o&&(d+=a,c=!0),l||(u+=n.nodeValue.length),c||(d+=n.nodeValue.length),!l||!c););t=[Math.min(u,d),Math.max(u,d)]}else e.document.body.setActive(),t=[Math.abs(e.document.selection.createRange().moveStart("character",-1e8)),Math.abs(e.document.selection.createRange().moveEnd("character",-1e8))];return t},e.del=function(e){if("function"==typeof e.getSelection){for(var t=e.getSelection(),n=t.rangeCount;--n>-1;)t.getRangeAt(n).deleteContents();var r=t.getRangeAt(t.rangeCount-1);r.insertNode(e.document.createTextNode("")),t.addRange(r)}else e.document&&e.document.selection&&(e.document.selection.createRange().text="",e.document.selection.createRange().select())},e.ins=function(t,n){if("function"==typeof t.getSelection){n=n.replace(/&/,"&amp;").replace(/</,"&lt;").replace(/>/,"&gt;").replace(/\x20/,"&nbsp;").replace(/[\r\n]/,"<br />");var r,o=t.document.createElement("span"),a=t.getSelection(),i=a.getRangeAt(0);o.innerHTML=n,i.insertNode(o),i.selectNodeContents(o);var s=o.parentNode,r=o.nextSibling;o.parentNode.replaceChild(i.extractContents(),o),r||(r=s.lastChild);var c=t.document.createRange();r.nodeValue?c.setStart(r,0):c.setStartAfter(r),a.removeAllRanges(),a.addRange(c)}else if(t.document&&t.document.selection){t.document.body.setActive();var i=t.document.selection.createRange();i.text=n,i.moveStart("character",1)&&(i.moveStart("character",-1),i.moveEnd("character",-1),i.select())}return e.getPos(t)[0]},e.getSelection=function(e,t,n){if("function"==typeof e.getSelection){var t=e.getSelection();return t?t.toString():""}if(e.document&&e.document.selection)return e.document.selection.createRange().text},e.setRange=function(e,t,n){if("function"==typeof e.getSelection){var r=e.getSelection();r.removeAllRanges();for(var o,a,i=e.document.createRange(),s=0,c=e.document.createTreeWalker(e.document.body,NodeFilter.SHOW_TEXT,null,!1);(o=c.nextNode())&&(!o.nodeValue.length||s+o.nodeValue.length<=t);)a=o,s+=o.nodeValue.length;if((o||(o=a))&&(i.setStart(o,t-s),i.setEnd(o,t-s)),o)do if(3==o.nodeType){if(!(s+o.nodeValue.length<n)){i.setEnd(o,n-s);break}s+=o.nodeValue.length}while(o=c.nextNode());r.addRange(i)}else if(e.document&&e.document.selection){e.document.body.setActive();var i=e.document.selection.createRange();i.moveToElementText(e.document.body),i.move("character",t),i.moveEnd("character",n-t),i.select()}},e.getSelectionOffset=function(e){var t={x:0,y:0,h:0};if("function"==typeof e.getSelection){var n=e.getSelection().getRangeAt(0),r=e.document.createElement("span"),o=n.cloneContents(),a=(n.endOffset,r);for(r.style.borderLeft="1px solid red",n.surroundContents(r),t.h=a.offsetHeight;a.offsetParent;)t.x+=a.offsetLeft,t.y+=a.offsetTop,a=a.offsetParent;r.parentNode.removeChild(r);var i=e.document.createRange();if(o.childNodes.length>0){for(var s=0;s<o.childNodes.length;s++){var a=o.childNodes[s];n.insertNode(a),i.selectNode(a)}e.getSelection().addRange(i)}}else if(e.document&&e.document.selection){var n=e.document.selection.createRange();t.h=n.boundingHeight,t.x=n.offsetLeft,t.y=n.offsetTop}return t}}},t.DocumentSelection=o},/*!*******************************!*\
  !*** ./src/extensions/dom.js ***!
  \*******************************/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOM=void 0;var r=n(/*! ./helpers */1),o={};o.getParent=function e(t,n,a){return null==t?null:1==t.nodeType&&(!(0,r.isUndefined)(a)&&t[n]==a||"string"==typeof n&&o.hasTagName(t,n)||t==n)?t:e(t.parentNode,n,a)},o.getOffset=function(e){var t=!0,n=e,r=0,o=0,a=0,i=0,s=null;if(null==n)return null;s=n.offsetParent;for(var c=n,e=n;null!=e.parentNode;){if(e=e.parentNode,null!==e.offsetParent){var l=!0;t&&window.opera&&(e!=c.parentNode&&"TR"!=e.nodeName||(l=!1)),l&&(e.scrollTop&&e.scrollTop>0&&(o-=e.scrollTop),e.scrollLeft&&e.scrollLeft>0&&(r-=e.scrollLeft))}e==s&&(r+=n.offsetLeft,e.clientLeft&&"TABLE"!=e.nodeName&&(r+=e.clientLeft),o+=n.offsetTop,e.clientTop&&"TABLE"!=e.nodeName&&(o+=e.clientTop),n=e,null==n.offsetParent&&(n.offsetLeft&&(r+=n.offsetLeft),n.offsetTop&&(o+=n.offsetTop)),s=n.offsetParent)}return c.offsetWidth&&(a=c.offsetWidth),c.offsetHeight&&(i=c.offsetHeight),{x:r,y:o,width:a,height:i}},o.getClientWidth=function(e){var t=this.getWindow(e),n=t.document,r=0;return t.innerWidth?r=t.innerWidth:n.documentElement&&n.documentElement.clientWidth?r=n.documentElement.clientWidth:n.body&&(r=n.body.clientWidth),r},o.getOffsetWidth=function(e){var t=this.getWindow(e),n=t.document,r=0;return t.outerWidth?r=t.outerWidth:n.documentElement&&n.documentElement.clientWidth?r=n.documentElement.clientWidth:n.body&&(r=n.body.clientWidth),r},o.getClientHeight=function(e){var t=this.getWindow(e),n=t.document,r=0;return t.innerHeight?r=t.innerHeight:n.documentElement&&n.documentElement.clientHeight?r=n.documentElement.clientHeight:n.body&&(r=n.body.clientHeight),r},o.getOffsetHeight=function(e){var t=this.getWindow(e),n=t.document,r=0;return t.outerHeight?r=t.outerHeight:n.documentElement&&n.documentElement.clientHeight?r=n.documentElement.clientHeight:n.body&&(r=n.body.clientHeight),r},o.getBodyScrollTop=function(e){var t=this.getWindow(e),n=t.document;return t.pageYOffset||n.documentElement&&n.documentElement.scrollTop||n.body&&n.body.scrollTop},o.getBodyScrollLeft=function(e){var t=this.getWindow(e),n=t.document;return t.pageXOffset||n.documentElement&&n.documentElement.scrollLeft||n.body&&n.body.scrollLeft},o.getWindow=function(e){var t=window;if(e){var n=e.ownerDocument;t=n.defaultView||n.parentWindow||n.window||window}return t},o.getCursorPosition=function(e){if(e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};var t=document.documentElement||document.body;return{x:e.clientX+t.scrollLeft-(t.clientLeft||0),y:e.clientY+t.scrollTop-(t.clientTop||0)}},o.hasTagName=function(e,t){if((0,r.isString)(t)&&(t=[t]),!(0,r.isArray)(t)||(0,r.isEmpty)(t)||(0,r.isUndefined)(e)||(0,r.isEmpty)(e.tagName))return!1;for(var n=e.tagName.toLowerCase(),o=0,a=t.length;o<a;o++)if(t[o].toLowerCase()==n)return!0;return!1},o.color2rgb=function(e){var t;if(/^([a-z]+)($|\s[a-z]+)/i.test(e)){var n=document.body,r=n.vLink;n.vLink=e.split(" ")[0],e=n.vLink,n.vLink=r}try{return(t=e.match(/^#([\da-f]{6})$/i))?(t=parseInt(t[1],16),[(16711680&t)>>16,(65280&t)>>8,255&t]):(t=e.match(/^#([\da-f]{3})$/i))?(t=parseInt(t[1],16),[17*((3840&t)>>8),17*((240&t)>>4),17*(15&t)]):e.match(/([\d%]+)/g).splice(0,3).map(function(e){return/%/.test(e)?(2.55*parseInt(e)).toFixed(0):parseInt(e)})}catch(e){return}},o.setOpacity=function(e,t){e.style.opacity!=t&&(e.style.opacity=e.style.KhtmOpacity=e.style.MozOpacity=t,e.style.filter="alpha(opacity="+100*t+")")},o.CSS=function(e){var t=this;return t.addClass=function(){var n=(0,r.isArray)(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return t.removeClass(n),e.className=e.className+" "+Array.prototype.join.call(n," "),t},t.removeClass=function n(){var o=(0,r.isArray)(arguments[0])?arguments[0]:arguments;n.cache||(n.cache={});for(var a=n.cache,i=0,s=o.length;i<s;i++)a.hasOwnProperty(o[i])||(a[o[i]]=new RegExp("(^|\\s+)"+o[i]+"(\\s+|$)")),e.className=e.className.replace(a[o[i]]," ");return e.className=e.className.replace(/\s{2,}/," "),t},t.hasClass=function(t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return e.className.match(n," "+t+" ")},t.getClass=function(){return e.className},t.getClassValue=function(t){var n=e.className.match(new RegExp("(^|\\s)"+t+":([^\\s]+)"));return n?n[2].indexOf(":")+1?n[2].split(":"):n[2]:null},t.getComputedStyle=function(t){var n;return e.currentStyle?n=t?e.currentStyle[t]:e.currentStyle:window.getComputedStyle?(n=document.defaultView.getComputedStyle(e,null),t&&(n=n[t])):n=null,n},this},t.DOM=o},/*!****************************************!*\
  !*** ./src/extensions/eventmanager.js ***!
  \****************************************/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EM=void 0;var r=n(/*! ./helpers */1),o=(n(/*! ./dom */8),new function(){var e=this,t=[],n=0,a={UEID:"__eventManagerUniqueElementId"},i=function(e){c(e);var n=null,o=null,i=(e.target,!0);if(e.currentTarget&&(n=e.currentTarget[a.UEID])&&(o=t[n].handler[e.type])){try{for(var s=0,l=o.length;s<l;s++)(0,r.isFunction)(o[s])&&(i=i&&!(!1===o[s].call(e.currentTarget,e)))}catch(t){setTimeout(function(){throw new Error("Event handler for ["+e.type+'] has failed with exception: "'+t.message+'"')},10)}return i}},s=function e(n){for(var r=t.length-1,o=null,a=null;r>=0;r--){if(t[r]&&(a=(o=t[r]).node))for(var s in o.handler)if(o.handler.hasOwnProperty(s)){try{a.removeEventListener?a.removeEventListener(s,o.rootEHCaller?o.rootEHCaller:i,!1):a.detachEvent&&a.detachEvent("on"+s,o.rootEHCaller?o.rootEHCaller:i)}catch(e){}o.handler[s].length=0}a=o.node=null}window.removeEventListener?window.removeEventListener(s,e,!1):window.detachEvent("on"+s,e)},c=function(t){for(var n,r,o,a,i=e.EU.length;i--;)if(n=e.EU[i],n[0].test(t.type)){for(o=n[1].length,a=null;o--;)r=n[1][o],"init"==r[0]?a=r[1]:t[r[0]]||(t[r[0]]=r[1]);a&&a.call(t)}return t.target||"unload"==t.type||(t.target=t.srcElement),t},l=function(e,t){return e[a.UEID]||t&&(e[a.UEID]=++n)};e.addEventListener=function(e,n,o){if(!e||!(0,r.isFunction)(o))return!1;var a=l(e,!0),s=null,c=null;return t[a]||(t[a]={node:e,handler:{}}),s=t[a],s.handler.hasOwnProperty(n)||(s.handler[n]=[],e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&(s.rootEHCaller=function(e){e.currentTarget=s.node;var t=i(e);return e.currentTarget=null,t},e.attachEvent("on"+n,s.rootEHCaller))),c=s.handler[n],c.indexOf(o)==-1&&(c[c.length]=o,!0)},e.removeEventListener=function(e,n,o){if(!e||!(0,r.isFunction)(o))return!1;var a=l(e),s=t[a],c=null;return!(!s||!(c=s.handler[n]))&&(c.splice(c.indexOf(o),1),0==c.length&&(delete s.handler[n],e.removeEventListener?e.removeEventListener(n,s.rootEHCaller?s.rootEHCaller:i,!1):e.detachEvent&&e.detachEvent("on"+n,s.rootEHCaller?s.rootEHCaller:i)),!0)},e.dispatchEvent=function(e){var t=i(e);return t},e.registerEvent=function(e,n,r,a){var i=l(e,!0);return t[i]?t[i].node=e:t[i]={node:e,handler:[]},new o.EventTarget(e,n,r,a)};var d=function(){window.attachEvent&&!window.addEventListener&&window.attachEvent("onunload",s)};d()});o.preventDefaultAction=function(e){e.preventDefault()},o.stopPropagationAction=function(e){e.stopPropagation()},o.EventTarget=function(e,t,n,a){var i=this,s=!!n,c=(0,r.isFunction)(a)?a:null;i.trigger=function(i,u){arguments.length-1||i==e||(u=i,i=null),i||(i=e);var f={},h=!0,p=!0,g=null;for(var m in u)u.hasOwnProperty(m)&&(f[m]=u[m]);s=!!n,c=a;do f.preventDefault=l,f.stopPropagation=d,f.target=i,f.currentTarget=i,f.type=t,g=o.dispatchEvent(f),p&=(0,r.isUndefined)(g),h&=!(!1===g);while((i=i.parentNode)&&s);return(0,r.isFunction)(c)&&h&&!p&&c(f),c&&h&&!p};var l=function(){c=null},d=function(){s=!1}},o.EU=[[/./,[["preventDefault",function(){this.returnValue=!1}],["stopPropagation",function(){this.cancelBubble=!0}]]],[/^mouse(over|out|down|up)/,[["getButton",function(){return 2==this.button?2:1}],["EM_MB_LEFT","1"],["EM_MB_RIGHT","2"]]],[/^key(down|up|press)/,[["getKeyCode",function(){switch(this.keyCode){case 189:return 109;case 187:return 61;case 107:return 61;case 186:return 59;default:return this.keyCode}}],["getRepeat",function e(){return e.repeat}],["init",function(){var e=this.getRepeat;"keyup"==this.type?(e.repeat=0,e.keyCode=0):"keydown"==this.type&&(e.repeat=e.keyCode==this.keyCode,e.keyCode=this.keyCode)}]]]],function(){var e=o.registerEvent(window,"domload"),t=!1,n=function(){o.removeEventListener(document,"propertychange",r.ie),o.removeEventListener(document,"DOMContentLoaded",r.mz),o.removeEventListener(window,"load",r.mz)},r={ie:function(r){"activeElement"!=window.event.propertyName||t||(e.trigger(window),n(),t=!0)},mz:function(n){t||e.trigger(window),t=!0}};o.addEventListener(document,"propertychange",r.ie),o.addEventListener(document,"DOMContentLoaded",r.mz),(/WebKit|Khtml/i.test(navigator.userAgent)||window.opera&&parseInt(window.opera.version())<9)&&function n(){t||(/loaded|complete/.test(document.readyState)?(e.trigger(window),t=!0):setTimeout(n,100))}(),o.addEventListener(window,"load",r.mz)}(),t.EM=o},/*!***************************************!*\
  !*** ./src/extensions/scriptqueue.js ***!
  \***************************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=this,n=arguments.callee;"function"!=typeof e&&(e=function(){});var r=[];t.load=function(t){o(t,e)},t.queue=function(e){var t=r.length;r[t]=e,t||o(e,i)};var o=function(e,t){var r,o=n.scripts;(r=o.hash[e])?(o=n.scripts[r],o[2]?t(e,o[2]):o[1].push(t)):(r=o.length,o[r]=[e,[t],!1],o.hash[e]=r,a(e))},a=function(e){if(document.body){var t=document.createElement("script"),n=document.getElementsByTagName("head")[0];t.type="text/javascript",t.charset="UTF-8",t.src=e,t.rSrc=e,t.onerror=t.onload=t.onreadystatechange=s,n.appendChild(t)}else document.write('<script onload="" src="'+e+'" charset="UTF-8"></script>'),s.call({rSrc:e},{type:"load"})},i=function t(n,a){e(n,a),r.splice(0,1),r.length&&a?o(r[0],t):e(null,a)},s=function(e){var t,r=n.scripts,o=r.hash[this.rSrc],e=e||window.event;if(r=r[o],r&&!r[2]&&("load"==e.type||"complete"==this.readyState||"loaded"==this.readyState?r[2]=t=!0:"error"==e.type&&(t=!1),null!=t)){for(var a=0,i=r[1],s=i.length;a<s;a++)i[a](r[0],r[2]);t||(delete n.scripts.hash[this.rSrc],delete n.scripts[o])}}};n.scripts=[!1],n.scripts.hash={},n.queue=function(e,t){if(e.length)for(var r=new n(t),o=0,a=e.length;o<a;o++)r.queue(e[o])},n.load=function(e,t){e&&new n(t).load(e)},window.ScriptQueueIncludes instanceof Array&&n.queue(window.ScriptQueueIncludes),t.ScriptQueue=n},/*!********************!*\
  !*** ./src/ime.js ***!
  \********************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new function(){var e=this,t='<div id="VirtualKeyboardIME"><table><tr><td class="IMEControl"><div class="left"><!-- --></div></td><td class="IMEControl IMEContent"></td><td class="IMEControl"><div class="right"><!-- --></div></td></tr><tr><td class="IMEControl IMEInfo" colspan="3"><div class="showAll"><div class="IMEPageCounter"></div><div class="arrow"></div></div></td></tr></div>',n=null,r=0,o=!1,a=[],i=null,s=null;e.show=function(t){i=VirtualKeyboard.getAttachedInput();var r=DOM.getWindow(i);s!=r&&(n&&n.parentNode&&n.parentNode.removeChild(n),s=r,d(),s.document.body.appendChild(n)),n.className=e.css,t&&e.setSuggestions(t),i&&n&&a.length>0?(EM.addEventListener(i,"blur",e.blurHandler),n.style.display="block",e.updatePosition(i)):"none"!=n.style.display&&e.hide()},e.hide=function(t){n&&"none"!=n.style.display&&(n.style.display="none",EM.removeEventListener(i,"blur",e.blurHandler),i&&DocumentSelection.getSelection(i)&&!t&&DocumentSelection.deleteSelection(i),i=null,a=[])},e.updatePosition=function(){var e=DOM.getOffset(i);n.style.left=e.x+"px";var t=DocumentSelection.getSelectionOffset(i);n.style.top=e.y+t.y+t.h+"px"},e.setSuggestions=function(t){return!!isArray(t)&&(a=t,r=0,c(),void e.updatePosition(i))},e.getSuggestions=function(e){return isNumber(e)?a[e]:a},e.nextPage=function(e){r=Math.max(Math.min(r+1,Math.ceil(a.length/10)-1),0),c()},e.prevPage=function(e){r=Math.max(r-1,0),c()},e.getPage=function(){return r},e.getChar=function(t){return t=--t<0?9:t,a[10*e.getPage()+t]},e.isOpen=function(){return n&&"block"==n.style.display},e.blurHandler=function(t){e.hide()},e.toggleShowAll=function(e){var t=n.firstChild.rows[1].cells[0].lastChild;(o=!o)?(r=0,t.className="showPage"):t.className="showAll",c()};var c=function(){for(var e=["<table>"],t=0,i=Math.ceil(a.length/10);t<i;t++)if(o||t==r){e.push("<tr>");for(var s=0,c=10*t;s<10&&!isUndefined(a[c+s]);s++)e.push("<td><a href=''>"),t==r?e.push("<b>&nbsp;"+(s+1)%10+": </b>"):e.push("<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>"),e.push(a[c+s]+"</a></td>");e.push("</tr>")}e.push("</table>"),n.firstChild.rows[0].cells[1].innerHTML=e.join(""),n.firstChild.rows[1].cells[0].firstChild.firstChild.innerHTML=r+1+"/"+(0+o||Math.ceil(a.length/10));for(var l=n.getElementsByTagName("*"),s=0,d=l.length;s<d;s++)l[s].unselectable="on"},l=function(t){var n=DOM.getParent(t.target,"a");n&&(DocumentSelection.insertAtCursor(i,n.lastChild.nodeValue),e.hide()),t.preventDefault()},d=function(){var r=s.document.createElement("div");r.innerHTML=t,n=r.firstChild,n.style.display="none";var o=n.firstChild.rows[0].cells[0],a=n.firstChild.rows[0].cells[2],i=n.firstChild.rows[1].cells[0].lastChild;EM.addEventListener(o,"mousedown",e.prevPage),EM.addEventListener(o,"mousedown",EM.preventDefaultAction),EM.addEventListener(o,"mousedown",EM.stopPropagationAction),EM.addEventListener(a,"mousedown",e.nextPage),EM.addEventListener(a,"mousedown",EM.preventDefaultAction),EM.addEventListener(a,"mousedown",EM.stopPropagationAction),EM.addEventListener(i,"mousedown",e.toggleShowAll),EM.addEventListener(i,"mousedown",EM.preventDefaultAction),EM.addEventListener(i,"mousedown",EM.stopPropagationAction),n.unselectable="on";for(var c=n.getElementsByTagName("*"),d=0,u=c.length;d<u;d++)c[d].unselectable="on";EM.addEventListener(n,"mousedown",l)}};t.IME=n}]);